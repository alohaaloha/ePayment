<div class="container">
    <br><br><br>

    <div class="well well-sm" id="bs-example-navbar-collapse-1">
        <div class="container collapse navbar-collapse">
            <ul style="cursor:pointer" class="nav nav-buy nav-tabs nav-justified navbar-nav">
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(0)" ng-class="{'btn-success': activeOption[0]}" ng-click="setActiveOption(0)" translate="step1"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(1)" ng-class="{'btn-success': activeOption[1]}" ng-click="setActiveOption(1)" translate="step2"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(2)" ng-class="{'btn-success': activeOption[2]}" ng-click="setActiveOption(2)" translate="step3"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(3)" ng-class="{'btn-success': activeOption[3]}" ng-click="setActiveOption(3)" translate="step4"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(4)" ng-class="{'btn-success': activeOption[4]}" ng-click="setActiveOption(4)" translate="step5"></button></li>
            </ul>
        </div>
    </div>

    <div class="progress">
        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: {{progresBarValue}}%">
            <span class="sr-only">{{progresBarValue}}% Complete</span>
        </div>
    </div>

    <!-- OPTION 1 -->
    <div class="container" ng-show="activeOption[0]">
        <form name="firstForm">
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group">
                        <span class="input-group-addon input-field" id="duration-desc" translate="insuranceDuration"></span>
                        <input type="number" required min="1" class="form-control"
                               id="duration" name="duration" aria-describedby="duration-desc" ng-model="duration">
                    </div>
                    <div class="tooltip-question" uib-tooltip="{{'insuranceDurationTooltip' | translate}}">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
                <div class="col-md-4 error-div error-message" ng-messages="firstForm.duration.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                    <div ng-message="min"><span translate="insuranceDurationMinError"></span></div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group">
                        <span class="input-group-addon input-field" id="region-desc" translate="region"></span>
                        <input type="text" class="form-control" placeholder = "{{'regionPlchld' | translate}}" required
                               id="region" name="region" aria-describedby="region-desc" ng-model="region">
                    </div>
                    <div class="tooltip-question" uib-tooltip="{{'regionTooltip' | translate}}">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
                <div class="col-md-4 error-div error-message" ng-messages="firstForm.region.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group">
                        <span class="input-group-addon input-field" id="num-of-people-desc" translate="numberOfPeople"></span>
                        <input type="number" class="form-control" required min="1"
                               id="num-of-people" name="numOfPeople" aria-describedby="num-of-people-desc" ng-model="numOfPeople">
                    </div>
                    <div class="tooltip-question" uib-tooltip="{{'numOfPeopleTooltip' | translate}}">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
                <div class="col-md-4 error-div error-message" ng-messages="firstForm.numOfPeople.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                    <div ng-message="min"><span translate="numOfPeopleMinError"></span></div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group-left-side-imitation" translate="coverage"></div>
                    <div class="btn-group" role="group" aria-label="...">
                        <button type="button" class="btn btn-default" ng-class="{'btn-success': coverage==1000}" ng-click="setCoverage(1000)" style="border-top-left-radius: 0; border-bottom-left-radius: 0">1.000 $</button>
                        <button type="button" class="btn btn-default" ng-class="{'btn-success': coverage==5000}" ng-click="setCoverage(5000)">5.000 $</button>
                        <button type="button" class="btn btn-default" ng-class="{'btn-success': coverage==10000}" ng-click="setCoverage(10000)">10.000 $</button>
                        <button type="button" class="btn btn-default" ng-class="{'btn-success': coverage==30000}" ng-click="setCoverage(30000)">30.000 $</button>
                    </div>
                    <div style="display:block; width:auto;"></div> <!-- Znači оvaj div je neko đidanje da bi se tooltip lepo prikazao u ovom redu -->
                    <div class="tooltip-question" uib-tooltip="{{'amountTooltip' | translate}}">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                    <div class="input-group" style="display: none">
                        <span class="input-group-addon input-field" id="amount-desc" translate="coverage"></span>
                        <input type="number" class="form-control" required min="1000"
                               id="amount" name="amount" aria-describedby="amount-desc" ng-model="coverage">
                    </div>
                </div>
                <div class="col-md-4 error-div error-message" ng-messages="firstForm.amount.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                </div>
            </div>
        </form>
    </div>

    <!-- OPTION 2 -->
    <div class="container" ng-show="activeOption[1]">
        <p translate="insurancePeopleDetailsText" align="center" style="font-weight: bold"></p>
            <div class="table-responsive" id="people-table">
                <table class="table table-striped">
                    <tr>
                        <th class="col-md-1">#</th>
                        <th class="col-md-3"><span translate="firstNamePlchld"></span></th>
                        <th class="col-md-3"><span translate="lastNamePlchld"></span></th>
                        <th class="col-md-1"><span translate="carrier">$nbsp;</span><span class="glyphicon glyphicon-question-sign" uib-tooltip="{{'carrierTooltip' | translate}}"></span></th>
                        <th class="col-md-2"> </th>
                        <th class="col-md-2"> </th>
                    </tr>
                    <tr ng-repeat="person in people track by person.idx">
                        <td class="col-md-1 number-column">{{person.idx + 1}}</td>
                        <td class="col-md-3"><span style="font-style: italic;" ng-show="person.name==null" translate="firstNamePlchld"></span>{{person.name}}</td>
                        <td class="col-md-3"><span style="font-style: italic;" ng-show="person.surname==null" translate="lastNamePlchld"></span>{{person.surname}}</td>
                        <td class="col-md-1 carrier-column"><input type="checkbox" ng-model="$parent.insuranceCarrierIndex" ng-true-value="{{person.idx}}" ng-false-value="-1" /> </td>
                        <td class="col-md-2"><button class="btn btn-default btn-circle" ng-click="openPersonDetailsModal(person.idx)" translate="editDetails"></button></td>
                        <td class="col-md-2 error-message"><span ng-if="!peopleFormValid[person.idx]" translate="personDetailsNotValidError"></span></td>
                    </tr>
                </table>
            </div>
    </div>

    <!-- OPTION 3 -->
    <div class="option-header" translate="homeInsurance" ng-show="activeOption[2]"></div>
    <div class="container" ng-show="activeOption[2]">
        <br>
        <div class="row centered-block-content">
            <div class="col-md-3"></div>
            <div class="col-md-3"><img src="website_theme/custom/images/home_insurance.jpg" /></div>
            <div class="col-md-3">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" ng-model="isHomeWanted"> <span translate="iWantHomeInsurance"></span>
                    </label>
                </div>
            </div>

        </div>
        <!-- TODO: Maybe to add animation when user select that it wants a home insurance... so that input fields slide in slowly-->
        <div class="container" ng-show="isHomeWanted">
            <p translate="homeInsuranceDetailsText" align="center" style="font-weight: bold"></p>
            <form name="homeInsuranceForm">
                <br>
                <div class="row">
                    <div class="col-md-4 col-md-offset-2">
                        <div class="input-group">
                            <span class="input-group-addon input-field" id="home-insurance-duration-desc" translate="insuranceDuration"></span>
                            <input type="number" required min="1" max="{{duration}}" class="form-control" ng-disabled="hitiDurationEquals"
                                   id="home-insurance-duration" name="hiDuration" aria-describedby="home-insurance-duration-desc" ng-model="hi.duration">
                        </div>
                        <div class="tooltip-question" uib-tooltip="{{'insuranceDurationTooltip' | translate}}">
                            <span class="glyphicon glyphicon-question-sign"></span>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-model="hitiDurationEquals" ng-change="changeHIDuration()"> <span translate="hiAllTheTime"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4 error-div error-message" ng-messages="homeInsuranceForm.hiDuration.$error">
                        <div ng-message="required"><span translate="fieldRequired"></span></div>
                        <div ng-message="min"><span translate="insuranceDurationMinError"></span></div>
                        <div ng-message="max"><span translate="hiDurationMaxError"></span></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 col-md-offset-2">
                        <div class="input-group">
                            <span class="input-group-addon input-field" id="hi-surface-area-desc" translate="hiSurfaceArea"></span>
                            <input type="number" required min="10" class="form-control"
                                   id="hi-surface-area" name="hiSurfaceArea" aria-describedby="hi-surface-area-desc" ng-model="hi.surfaceArea">
                        </div>
                    </div>
                    <div class="col-md-4 error-div error-message" ng-messages="homeInsuranceForm.hiSurfaceArea.$error">
                        <div ng-message="required"><span translate="fieldRequired"></span></div>
                        <div ng-message="min"><span translate="hiSurfaceAreaMinError"></span></div>
                    </div>
                </div>

                <br />

                <div class="row">
                    <div class="col-md-6 col-md-offset-2">
                        <div class="input-group">
                            <span class="input-group-addon input-field" id="hi-year-desc" translate="hiYear"></span>
                            <input type="number" required min="1800" max="{{hiMaxYear}}" class="form-control"
                                   id="hi-year" name="hiYear" aria-describedby="hi-year-desc" ng-model="hi.age">
                        </div>
                    </div>
                    <div class="col-md-4 error-div error-message" ng-messages="homeInsuranceForm.hiYear.$error">
                        <div ng-message="required"><span translate="fieldRequired"></span></div>
                        <div ng-message="min"><span translate="hiYearMinError"></span></div>
                        <div ng-message="max"><span translate="hiYearMaxError"></span></div>
                    </div>
                </div>

                <br />

                <div class="row">
                    <div class="col-md-6 col-md-offset-2">
                        <div class="input-group">
                            <span class="input-group-addon input-field" id="hi-estimated-value-desc" translate="hiEstimatedValue"></span>
                            <input type="number" required min="100" class="form-control"
                                   id="hi-estimated-value" name="hiEstimatedValue" aria-describedby="hi-estimated-value-desc" ng-model="hi.estimatedValue">
                        </div>
                    </div>
                    <div class="col-md-4 error-div error-message" ng-messages="homeInsuranceForm.hiEstimatedValue.$error">
                        <div ng-message="required"><span translate="fieldRequired"></span></div>
                        <div ng-message="min"><span translate="hiEstimatedValueMin"></span></div>
                    </div>
                </div>

                <br />

                <div class="row">
                    <div class="col-md-6 col-md-offset-2">
                        <div class="input-group-left-side-imitation" translate="coverage"></div>
                        <div class="btn-group" role="group" aria-label="...">
                            <button type="button" class="btn btn-default" ng-class="{'btn-success': hiFlood==true}" ng-click="triggerHICoverage('flood')" style="border-top-left-radius: 0; border-bottom-left-radius: 0"><span translate="flood"></span></button>
                            <button type="button" class="btn btn-default" ng-class="{'btn-success': hiBurglary==true}" ng-click="triggerHICoverage('burglary')"><span translate="burglary"></span></button>
                            <button type="button" class="btn btn-default" ng-class="{'btn-success': hiFire==true}" ng-click="triggerHICoverage('fire')"><span translate="fire"></span></button>
                        </div>
                    </div>
                </div>

                <br />

                <div class="row">
                    <div class="col-md-6 col-md-offset-2">
                        <div class="input-group">
                            <span class="input-group-addon input-field" id="hi-address-desc" translate="hiAddress"></span>
                            <input type="text" required class="form-control"
                                   id="hi-address" name="hiAddress" aria-describedby="hi-address-desc" ng-model="hi.address">
                        </div>
                    </div>
                    <div class="col-md-4 error-div error-message" ng-messages="homeInsuranceForm.hiAddress.$error">
                        <div ng-message="required"><span translate="fieldRequired"></span></div>
                    </div>
                </div>

                <br />

                <div class="row">
                    <div class="col-md-6 col-md-offset-2">
                        <div class="input-group">
                            <span class="input-group-addon input-field" id="hi-owner-first-name-desc" translate="hiOwnerFirstName"></span>
                            <input type="text" class="form-control" placeholder = "{{'firstNamePlchld' | translate}}" required
                                   id="hi-owner-first-name" name="hiOwnerFirstName" aria-describedby="hi-owner-first-name-desc" ng-model="hi.ownersName">
                        </div>
                    </div>
                    <div class="col-md-4 error-div error-message" ng-messages="homeInsuranceForm.hiOwnerFirstName.$error">
                        <div ng-message="required"><span translate="fieldRequired"></span></div>
                    </div>
                </div>

                <br />

                <div class="row">
                    <div class="col-md-6 col-md-offset-2">
                        <div class="input-group">
                            <span class="input-group-addon input-field" id="hi-owner-last-name-desc" translate="hiOwnerLastName"></span>
                            <input type="text" class="form-control" placeholder = "{{'lastNamePlchld' | translate}}" required
                                   id="hi-owner-last-name" name="hiOwnerLastName" aria-describedby="hi-owner-last-name-desc" ng-model="hi.ownersSurname">
                        </div>
                    </div>
                    <div class="col-md-4 error-div error-message" ng-messages="homeInsuranceForm.hiOwnerLastName.$error">
                        <div ng-message="required"><span translate="fieldRequired"></span></div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- OPTION 4 -->
    <div ng-show="activeOption[3]">
        <br>
        <p align="center" translate="carInsurance"></p>
        <!-- TODO: Add the button for adding vehicle description and roadside assistance type. When clicked, new modal is opened with form to fill -->
    </div>

    <!-- OPTION 5 -->
    <div ng-show="activeOption[4]">
        <!-- TODO: Show pricing, PayPal buttons to pay, etc... -->

        <div style="text-align: center">
        <br>
        <button type="button" class="btn btn-success" ng-click="buyInsurance()" translate="buyInsurance"></button>
        </div>
    </div>

    <div style="text-align: center" ng-show="!activeOption[4]">
        <br>
        <button class="btn btn-primary" ng-click="goToNextOption()" ng-disabled="isOptionDisabled(activeOptionNumber+1)" translate="next"></button>
        <br>
    </div>

</div>