<div class="container">
    <br><br><br>

    <div class="well well-sm" id="bs-example-navbar-collapse-1">
        <div class="container collapse navbar-collapse">
            <ul style="cursor:pointer" class="nav nav-buy nav-tabs nav-justified navbar-nav">
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(0)" ng-class="{'btn-success': activeOption[0]}" ng-click="setActiveOption(0)" translate="step1"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(1)" ng-class="{'btn-success': activeOption[1]}" ng-click="setActiveOption(1)" translate="step2"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(2)" ng-class="{'btn-success': activeOption[2]}" ng-click="setActiveOption(2)" translate="step3"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(3)" ng-class="{'btn-success': activeOption[3]}" ng-click="setActiveOption(3)" translate="step4"></button></li>
                <li><button class="btn btn-default btn-circle btn-xl-pokidali" ng-disabled="isOptionDisabled(4)" ng-class="{'btn-success': activeOption[4]}" ng-click="setActiveOption(4)" translate="step5"></button></li>
            </ul>
        </div>
    </div>

    <div class="progress">
        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: {{progresBarValue}}%">
            <span class="sr-only">{{progresBarValue}}% Complete</span>
        </div>
    </div>

    <!-- OPTION 1 -->
    <!-- TODO: Localization for tooltips needed -->
    <div class="container" ng-show="activeOption[0]">
        <form name="firstForm">
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group">
                        <span class="input-group-addon input-field" id="duration-desc" translate="insuranceDuration"></span>
                        <input type="number" required min="1" class="form-control"
                               id="duration" name="duration" aria-describedby="duration-desc" ng-model="duration">
                    </div>
                    <div class="tooltip-question" tooltip="{{'insuranceDurationTooltip' | translate}}" tooltip-placement="top">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
                <div class="col-md-4 error-div" ng-messages="firstForm.duration.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                    <div ng-message="min"><span translate="insuranceDurationMinError"></span></div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group">
                        <span class="input-group-addon input-field" id="region-desc" translate="region"></span>
                        <input type="text" class="form-control" placeholder = "{{'regionPlchld' | translate}}" required
                               id="region" name="region" aria-describedby="region-desc" ng-model="region">
                    </div>
                    <div class="tooltip-question" tooltip="{{'regionTooltip' | translate}}" tooltip-placement="top">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
                <div class="col-md-4 error-div" ng-messages="firstForm.region.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group">
                        <span class="input-group-addon input-field" id="num-of-people-desc" translate="numberOfPeople"></span>
                        <input type="number" class="form-control" required min="1"
                               id="num-of-people" name="numOfPeople" aria-describedby="num-of-people-desc" ng-model="numOfPeople">
                    </div>
                    <div class="tooltip-question" tooltip="{{'numOfPeopleTooltip' | translate}}" tooltip-placement="top">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
                <div class="col-md-4 error-div" ng-messages="firstForm.numOfPeople.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                    <div ng-message="min"><span translate="numOfPeopleMinError"></span></div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-6 col-md-offset-2">
                    <div class="input-group">
                        <span class="input-group-addon input-field" id="amount-desc" translate="amount"></span>
                        <input type="number" class="form-control" required min="1"
                               id="amount" name="amount" aria-describedby="amount-desc" ng-model="amount">
                    </div>
                    <div class="tooltip-question" tooltip="{{'amountTooltip' | translate}}" tooltip-placement="top">
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
                <div class="col-md-4 error-div" ng-messages="firstForm.amount.$error">
                    <div ng-message="required"><span translate="fieldRequired"></span></div>
                    <div ng-message="min">The minimum number of people insured is 1.</div>
                </div>
            </div>
        </form>
    </div>

    <!-- OPTION 2 -->
    <div class="container" ng-show="activeOption[1]">
        <p translate="insurancePeopleDetailsText"></p>
        <div class="table-responsive" id="people-table">
            <table class="table table-striped">
                <tr>
                    <th class="col-md-1">#</th>
                    <th class="col-md-4"><span translate="firstNamePlchld"></span></th>
                    <th class="col-md-4"><span translate="lastNamePlchld"></span></th>
                </tr>
                <tr ng-repeat="person in people track by person.idx">
                    <td class="col-md-1 number-column">{{person.idx + 1}}</td>
                    <td class="col-md-3"><span style="font-style: italic;" ng-show="person.name==null" translate="firstNamePlchld"></span>{{person.name}}</td>
                    <td class="col-md-3"><span style="font-style: italic;" ng-show="person.surname==null" translate="lastNamePlchld"></span>{{person.surname}}</td>
                    <td class="col-md-2"><button class="btn btn-default btn-circle" ng-click="openPersonDetailsModal(person.idx)" translate="editDetails"></button></td>
                </tr>
            </table>

            <!--
            <table class="table table-striped">
                <tr ng-repeat="person in people track by person.idx">
                    <td class="col-md-3"><div class="error-div"><span ng-if="!peopleFormValid[person.idx]" translate="personDetailsNotValidError"></span></div></td>
                </tr>
            </table>
            -->
        </div>
    </div>

    <!-- OPTION 3 -->
    <div ng-show="activeOption[2]">
        <br>
        <p align="center" translate="homeInsurance"></p>
        <!-- TODO: Add the button for adding home and it's description. When clicked, new modal is opened with form to fill -->
    </div>

    <!-- OPTION 4 -->
    <div ng-show="activeOption[3]">
        <br>
        <p align="center" translate="carInsurance"></p>
        <!-- TODO: Add the button for adding vehicle description and roadside assistance type. When clicked, new modal is opened with form to fill -->
    </div>

    <!-- OPTION 5 -->
    <div ng-show="activeOption[4]">
        <!-- TODO: Show pricing, PayPal buttons to pay, etc... -->

        <div style="text-align: center">
        <br>
        <button type="button" class="btn btn-success" ng-click="buyInsurance()" translate="buyInsurance"></button>
        </div>
    </div>

    <div style="text-align: center" ng-show="!activeOption[4]">
        <br>
        <button class="btn btn-primary" ng-click="goToNextOption()" translate="next"></button>
        <br>
    </div>

</div>